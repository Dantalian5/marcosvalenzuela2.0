let e,t,s,n,o,l;const c=document.getElementById("js-hamburgerMenu"),r=document.getElementById("js-buttonReadMore");c.addEventListener("click",()=>{c.classList.toggle("active")}),document.addEventListener("click",e=>{e.target.closest("#js-hamburgerMenu, #js-menuItems")||c.classList.remove("active")}),r.addEventListener("click",()=>{r.classList.toggle("active"),r.classList.contains("active")?r.innerText="Read Less":r.innerText="Read More"});const a=document.querySelector(".project-carousel"),i=document.querySelector(".search-box__input"),d=document.querySelectorAll(".project-carousel__item");let u=document.querySelectorAll(".project-carousel__item:not(.inactive)");const f=document.querySelector(".projects__nav--btn.projects__nav--prev"),y=document.querySelector(".projects__nav--btn.projects__nav--next");let m=0;function p(e){if(u.length>0){let t=Math.min(Math.floor(a.offsetWidth/(u[0].offsetWidth+10)),u.length),s=m;m=Math.min(m+e>=0&&m+t-1+e<u.length?m+e:m,u.length-t),function(e,t,s){let n;let o=a.offsetWidth/(2*t),l=1;if(m!=s){let s=u[m].offsetWidth;n=e<0?`calc( ${Math.floor(a.offsetWidth/(2*t))}px - ${s}px)`:`calc( ${Math.floor(a.offsetWidth/(2*t))*(2*t-1)}px + ${s}px)`}else n=e<0?`calc( ${a.offsetWidth/(2*t)}px + 100px)`:`calc( ${a.offsetWidth/(2*t)*(2*t-1)}px - 100px)`;e<0?(u[m].style.transform="translate(-50%, -50%)",u[m].style.left=n):e>0&&(u[m+t-1].style.transform="translate(-50%, -50%)",u[m+t-1].style.left=n),setTimeout(function(){for(let e=m;e<m+t;e++)u[e].style.transform="translate(-50%, -50%)",u[e].style.left=`${o*l}px`,u[e].style.zIndex=1,u[e].style.opacity=1,l+=2},100)}(e,t,s),function(e){let t=0;for(let s=m+e;s<u.length;s++)t++,u[s].style.transform=`translate(-50%, -50%) scale(${1-.1*t}) perspective(100px) rotateY(-1deg)`,u[s].style.left=`calc( ${a.offsetWidth/(2*e)*(2*e-1)}px + ${100*t}px)`,u[s].style.zIndex=-t,u[s].style.opacity=t<3?.3-t/10:.05;t=0;for(let s=m-1;s>=0;s--)t++,u[s].style.transform=`translate(-50%, -50%) scale(${1-.1*t}) perspective(100px) rotateY(1deg)`,u[s].style.left=`calc( ${a.offsetWidth/(2*e)}px - ${100*t}px)`,u[s].style.zIndex=-t,u[s].style.opacity=t<3?.3-t/10:.05}(t)}}p(0),window.addEventListener("resize",function(){p(0)}),y.onclick=function(){p(1)},f.onclick=function(){p(-1)},a.addEventListener("touchstart",function(n){e=!0,t=n.touches[0].clientX,s=n.touches[0].clientY}),a.addEventListener("touchmove",function(o){if(e){let e=o.touches[0].clientX,l=o.touches[0].clientY;Math.abs(n=e-t)>Math.abs(l-s)&&o.preventDefault()}}),a.addEventListener("touchend",function(){e=!1,n<0&&Math.abs(n)>50?p(1):n>0&&n>50&&p(-1)}),a.addEventListener("selectstart",function(e){e.preventDefault()}),a.addEventListener("wheel",function(e){l=e.deltaX,Math.abs(e.deltaX)>Math.abs(e.deltaY)&&e.preventDefault(),5>Math.abs(l)&&(o=!1),l>5&&!o?(p(1),o=!0):l<-5&&!o&&(p(-1),o=!0)});const h=[...Array.from(document.querySelectorAll(".js-card-tags")).map(e=>e.innerText.toLowerCase()),...Array.from(document.querySelectorAll(".js-card-names")).map(e=>e.innerText.toLowerCase())],v=Array.from(new Set(h.map(e=>e.split(/[\s,]+/)).flat()));i.addEventListener("input",({target:e})=>{let t=e.value.toLowerCase().trim().split(/[\s,]+/);console.log(t);let s=t.every(e=>v.includes(e));console.log(s),s?(document.querySelector(".search-box__error").style.display="none",d.forEach(e=>{let s=(e.querySelector(".js-card-tags").innerText+" "+e.querySelector(".js-card-names").innerText).toLowerCase(),n=s.split(/[\s,]+/),o=t.every(e=>n.includes(e));o?e.classList.remove("inactive"):e.classList.add("inactive")})):""!=e.value?(d.forEach(e=>{e.classList.add("inactive")}),document.querySelector(".search-box__error").style.display="block"):(d.forEach(e=>{e.classList.remove("inactive")}),document.querySelector(".search-box__error").style.display="none"),u=document.querySelectorAll(".project-carousel__item:not(.inactive)"),p(0)});